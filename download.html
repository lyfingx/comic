<!DOCTYPE html>
<!-- saved from url=(0023)https://xzeyl.cn/m.html -->
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="ImageToolBar" content="NO">
    <title>老司机漫画 ｜动漫神器下载</title>
    <link rel="Shortcut Icon" type="image/x-icon" href="download/favicon.ico">
    <meta name="description" content="老司机漫画是最火的动漫软件，拥有丰富资源，包括漫画、动画、小说，每天更新最优质的内容，带你一起进入动漫世界">
    <meta name="keywords"
          content="老司机,  h动漫, h漫画, 污漫画,  老司机, 在线动漫, 免费漫画,  二次元线上看, 动漫线上看, 动漫软件, 动漫神器,  安卓版动漫, 苹果版动漫">
    <link rel="stylesheet" href="./download/reset.min.css">
    <style>
        * {
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }

        html {
            font-family: 'PingFangTC', 'Source Sans Pro', sans-serif;
            font-size: 15px;
            color: #ffffff;
        }

        body {
            -webkit-tap-highlight-color: transparent;
            -webkit-overflow-scrolling: touch;
            background-image: linear-gradient(32deg, #14141d 0%, #2f306a 59%, #14131d 100%);
        }

        body::-webkit-scrollbar {
            display: none;
            width: 0 !important;
        }

        a {
            text-decoration: none;
            color: #ffffff;
        }

        .hide {
            display: none !important;
        }

        .show {
            display: block !important;
        }

        .showf {
            display: flex !important;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            display: none;
            width: 100%;
            z-index: 10;
            background-color: rgba(0, 0, 0, 0.75);
        }

        header .header-content {
            padding: 0 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 50px;
            line-height: 1.5;
        }

        header .header-content img {
            margin-right: 10px;
            width: 40px;
            height: 40px;
        }

        main {
            /*background-image: url(download/img-bg-new@2x.png);*/
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            width: 100%;
            /* height: 400px; */
        }

        .wrapper {
            margin: 0 auto;
            padding-top: 40px;
            display: flex;
            align-items: center;
            flex-direction: column;
        }

        .wrapper .main-title {
            position: relative;
            margin-bottom: 25px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .wrapper .main-title h1 {
            max-width: 250px;
        }

        .wrapper .main-title h1 img {
            width: 100%;
            height: 100%;
        }

        .wrapper .main-title .btn-more {
            position: absolute;
            top: 50%;
            right: 0;
            z-index: 0;
            transform: translateY(-50%);
            padding: 0 23px 0 19px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 36px;
            font-weight: 500;
            background-color: #2a8a9b;
        }

        .wrapper .main-title .btn-more div {
            position: absolute;
            top: 50%;
            left: -13px;
            z-index: -1;
            transform: translateY(-50%) rotate(-45deg);
            width: 25px;
            height: 25px;
            background-color: #2a8a9b;
        }

        .wrapper .main-title .btn-more i {
            margin-left: 5px;
            display: block;
            width: 18px;
            height: 18px;
            /*background-image: url(/src/img/btn-ani-1.gif);*/
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .wrapper .main-title .btn-more i.app {
            margin: 0 5px 0 0;
            width: 30px;
            height: 30px;
            /*background-image: url(/src/img/ic-iqiyu-mi@2x.png);*/
        }

        .wrapper .main-container {
            font-weight: 500;
        }

        .wrapper .main-subtitle {
            padding-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            font-size: 50px;
        }

        .wrapper .main-subtitle span {
            margin-right: 25px;
            padding: 10px 25px;
            font-size: 40px;
            background-color: #b60f2f;
            border-radius: 32.5px 0 32.5px 0;
        }

        .wrapper .main-desc {
            padding-bottom: 25px;
            font-size: 36px;
            text-align: center;
        }

        .wrapper .main-content {
            /* max-width: 270px; */
            display: flex;
            justify-content: center;
            align-items: center;;
            width: 100%;
        }

        .wrapper .main-content .btn {
            position: relative;
            display: none;
            justify-content: center;
            align-items: center;
            max-width: 270px;
            width: 100%;
            height: 45px;
            font-size: 20px;
            font-weight: 500;
            border-radius: 30px;
            outline: none;
            border: none;
            background-image: linear-gradient(104deg, #f9c731, #e26f2f 51%, #ff4f1e);
            box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.4);
            cursor: pointer;
        }

        .wrapper .main-content .btn-tf {
            margin-left: 15px;
            background-image: linear-gradient(to right, #59a7ff 0%, #1d82f4 97%);
        }

        .wrapper .main-content .btn:hover,
        .wrapper .main-content .btn:active,
        .download-btn:hover,
        .download-btn:active {
            box-shadow: inset 7px 7px 7px 0 rgba(0, 0, 0, 0.3);
        }

        .wrapper .main-content .btn img {
            margin-left: 10px;
            width: 30px;
            height: 30px;
        }

        .wrapper .main-remind {
            margin-top: 20px;
            font-size: 13px;
        }

        .wrapper .main-remind p {
            padding-left: 15px;
            position: relative;
            line-height: 1.5;
        }

        .wrapper .main-remind p::before {
            content: "※";
            position: absolute;
            top: 0;
            left: 0;
        }

        .wrapper .main-remind .collection-content {
            padding-top: 10px;
            display: flex;
            justify-content: center;
        }

        .wrapper .main-remind .collection-link a {
            padding-bottom: 5px;
            display: block;
            line-height: 15px;
            text-decoration: underline;
        }

        section {
            margin: 35px auto 0;
            padding: 0 30px;
            max-width: 768px;
        }

        .section-download .download-title {
            padding: 0 15px;
        }

        .section-download .download-title .title {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            font-weight: 500;
            color: #ecb81c;
        }

        .section-download .title img {
            margin-left: 10px;
            width: 25px;
            height: 25px;
        }

        .section-download .ios-download-remind {
            padding-top: 12px;
            display: none;
            text-align: center;
            line-height: 1.2;
        }

        .section-download .download-wrapper {
            margin: 25px 39px 35px;
            display: flex;
            justify-content: space-around;
        }

        .section-download .download-wrapper .boxes {
            padding: 25px 20px;
            display: none;
            flex-direction: column;
            align-items: center;
            width: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        .section-download .download-wrapper .boxes.android {
            padding: 25px 0 5px;
            /* flex-direction: row; // 內容四個才需要
            flex-wrap: wrap; */
            justify-content: center;
            max-width: 530px;
            width: 100%;
        }

        .section-download .download-wrapper .boxes.boxes.android .boxes-name {
            width: 100%;
            text-align: center;
        }

        /* 內容四個才需要 */
        /* .section-download .download-wrapper .boxes.boxes.android .btn:nth-of-type(2n) {
            margin-left: 20px;
        } */

        .section-download .download-wrapper .boxes:first-of-type {
            margin-right: 30px;
        }

        .section-download .download-wrapper .boxes img {
            max-width: 90px;
            width: 100%;
        }

        .section-download .download-wrapper .boxes .title {
            margin: 10px 0 20px;
            font-size: 20px;
            font-weight: 500;
        }

        .section-download .download-wrapper .boxes .btn {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            max-width: 230px;
            width: 100%;
            height: 42px;
            font-size: 18px;
            font-weight: 500;
            border-radius: 21px;
            outline: none;
            border: none;
            background-image: linear-gradient(104deg, #f9c731, #e26f2f 51%, #ff4f1e);
            cursor: pointer;
        }

        .section-download .download-wrapper .boxes .link {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 50px;
            font-size: 18px;
            text-decoration: underline;
        }

        .section-install h2 {
            padding-bottom: 15px;
            font-size: 26px;
            text-align: center;
            border-bottom: 2px solid #e46d2e;
        }

        .section-install > div {
            padding: 0 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .section-install .tabs {
            padding-top: 25px;
            display: flex;
        }

        .section-install ul li {
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
            width: 100%;
            height: 45px;
            font-size: 18px;
            font-weight: 500;
            text-align: center;
            white-space: nowrap;
            border: 1px solid rgba(228, 109, 46, 0.7);
            border-radius: 15px 15px 0 0;
        }

        .section-install ul li.active {
            background-color: #e46d2e;
        }

        .section-install .tab-container {
            padding: 0 10px;
            display: flex;
            justify-content: center;
            /* align-items: center;
            flex-direction: column; */
        }

        .section-install .tab-container .tab-content {
            padding: 15px 0;
            display: none;
            /* justify-content: center; */
            align-items: center;
            flex-direction: column;
        }

        .section-install .tab-container .tab-content.active {
            display: flex;
        }

        .section-install .tab-container .tab-content p {
            padding: 15px;
            font-size: 20px;
            text-align: center;
        }

        .section-install .tab-container .tab-content img {
            margin-bottom: 15px;
            max-width: 340px;
            width: 100%;
        }

        footer {
            margin: 15px auto;
            max-width: 768px;
            text-align: center;
            line-height: 1.5;
        }

        footer a {
            text-decoration: underline;
            cursor: pointer;
        }

        .fixed-bottom {
            position: fixed;
            right: 15px;
            bottom: 15px;
        }

        .fixed-bottom .contact-box {
            margin-top: 5px;
            padding: 12px 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100px;
            height: 100px;
            background-color: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
        }

        .fixed-bottom .contact-box img {
            width: 40px;
            height: 40px;
        }

        .fixed-bottom .contact-box p {
            padding-top: 5px;
            font-size: 13px;
            font-weight: 400;
        }

        .download-confirm {
            position: fixed;
            bottom: 0;
            display: flex;
            align-items: center;
            width: 100%;
            transition: transform .3s ease-out;
            transform: translateY(0);
        }

        .download-confirm img {
            width: 100%;
            height: 100%;
        }

        .download-confirm .text {
            position: absolute;
            top: 43%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 30px;
            color: #888;
            line-height: 1.5;
            text-align: center;
        }

        .download-confirm.animation {
            animation-name: ooxx;
            animation-duration: 1s;
            animation-iteration-count: 1;
        }

        .pop-content {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 99;
            display: none;
            width: 100%;
            height: 100%;
            color: #333333;
            background-color: rgba(0, 0, 0, 0.6);
        }

        .pop-content .popup {
            position: absolute;
            left: 50%;
            bottom: 50%;
            transform: translate(-50%, 50%);
            width: 88.88%;
            max-width: 380px;
            background-color: #ffffff;
            border-radius: 11.5px;
            z-index: 100;
        }

        .pop-content .pop-title {
            padding: 20px 0 0;
            font-size: 17px;
            line-height: 23px;
            text-align: center;
        }

        .pop-content .pop-desc {
            padding: 8px 20px 20px;
            line-height: 20px;
            text-align: center;
        }

        .pop-content .btn-content {
            display: flex;
            text-align: center;
            border-top: 1px solid #EBEDF0;
        }

        .pop-content .btn {
            padding: 10px 0;
            flex: 1;
            font-size: 17px;
            line-height: 23px;
            cursor: pointer;
        }

        .pop-content .btn.confirm {
            color: #007AFF;
            border-left: 1px solid #EBEDF0;
        }

        @keyframes ooxx {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        @media screen and (max-width: 580px) {
            header .header-content p {
                font-size: 12px;
            }

            .wrapper {
                padding: 40px 20px 0;
            }

            .wrapper .main-title {
                margin-bottom: 15px;
                justify-content: space-between;
            }

            .wrapper .main-title h1 {
                max-width: 150px;
            }

            .wrapper .main-title .btn-more {
                position: relative;
                transform: none;
                margin-left: 30px;
                margin-right: -20px;
                padding: 0 12px 0 6px;
                height: 28px;
                min-width: 105px;
                font-size: 12px;
            }

            .wrapper .main-title .btn-more div {
                left: -11px;
                width: 20px;
                height: 20px;
            }

            .wrapper .main-title .btn-more i {
                width: 15px;
                height: 15px;
            }

            .wrapper .main-title .btn-more i.app {
                width: 25px;
                height: 25px;
            }

            .wrapper .main-subtitle {
                padding-bottom: 15px;
                font-size: 30px;
            }

            .wrapper .main-subtitle span {
                margin-right: 10px;
                padding: 8px 15px;
                font-size: 20px;
            }

            .wrapper .main-desc {
                padding-bottom: 20px;
                font-size: 24px;
            }

            .wrapper .main-content {
                flex-direction: column;
            }

            .wrapper .main-content .btn {
                max-width: 260px;
            }

            .wrapper .main-content .btn-tf {
                margin-top: 15px;
                margin-left: 0;
            }

            .wrapper .main-remind .collection-content {
                padding-top: 5px;
                display: block;
                justify-content: flex-start;
            }

            .wrapper .main-remind .collection-link {
                padding-top: 5px;
                padding-left: 15px;
            }

            section {
                margin: 30px 15px 0;
                padding: 0;
            }

            .section-download {
                margin: 30px 0 0;
            }

            .section-download .download-wrapper {
                margin: 25px 10px 30px;
            }

            .section-download .download-wrapper .boxes {
                padding: 15px 10px;
            }

            .section-download .download-wrapper .boxes.android {
                padding: 15px 10px;
            }

            /* 內容四個才需要 */
            /* .section-download .download-wrapper .boxes.boxes.android .btn {
                width: calc((100% - 10px) / 2);
            } */
            /* .section-download .download-wrapper .boxes.boxes.android .btn:nth-of-type(2n) {
                margin-left: 10px;
            } */
            .section-download .download-wrapper .boxes:first-of-type {
                margin-right: 10px;
            }

            .section-download .download-wrapper .boxes img {
                max-width: 60px;
            }

            .section-download .download-wrapper .boxes .title {
                margin: 8px 0 15px;
                font-size: 15px;
                font-weight: normal;
            }

            .section-download .download-wrapper .boxes .btn {
                margin-bottom: 15px;
                font-size: 15px;
            }

            .section-download .download-wrapper .boxes .link {
                margin-top: -5px;
                font-size: 15px;
            }

            .section-download .download-title .title {
                font-size: 18px;
            }

            .section-download .ios-download-remind {
                font-size: 12px;
                line-height: 1.5;
            }

            .section-install h2 {
                padding-bottom: 10px;
                font-size: 24px;
            }

            .section-install > div {
                padding: 0;
            }

            .section-install .tabs {
                margin: -5px -5px 0;
            }

            .section-install ul li {
                height: 42px;
                font-size: 13px;
            }

            .section-install .tab-container .tab-content p {
                font-size: 15px;
            }

            footer {
                margin: 10px 15px;
                font-size: 12px;
            }

            .fixed-bottom {
                right: 10px;
                bottom: 10px;
            }

            .fixed-bottom .contact-box {
                padding: 6px 4px;
                width: 50px;
                height: 50px;
            }

            .fixed-bottom .contact-box img {
                width: 30px;
                height: 30px;
            }

            .fixed-bottom .contact-box p {
                display: none;
            }

            .download-confirm .text {
                font-size: 15px;
            }
        }
    </style>


</head>

<body>


<header class="iosShow">
    <div class="header-content">
        <img src="./download/ic-alarm@2x.png" alt="bell">
        <p>iOS 用户注意：为避免掉签,请安装轻量版</p>
    </div>
</header>
<main>
    <div class="wrapper">
        <div class="main-container">
            <div class="main-subtitle">
                <span>老司机</span>
                <p>专用动漫软件</p>
            </div>
            <div class="main-desc">
                <p>海量资源 高速免费看</p>
            </div>
        </div>
        <div class="main-content">
            <a id="online" class="btn showf download-btn" href="index.html">
                <div class="text">在线观看</div>
                <img src="./download/ic-btn-1@2x.png" alt="live" class="icon">
            </a>

            <a id="ios_downloadNow" class="btn iosShow download-btn" target="_blank" href="download/app.mobileconfig">
                <div class="text">立即下载轻量版</div>
                <img src="./download/ic-btn-1@2x.png" alt="live" class="icon">
            </a>

            <a id="android_downloadNow" href="download/20210502164848.apk"
               class="btn androidShow download-btn" data-tab="#androidApp">
                <div class="text">安卓APP下载</div>
                <img src="./download/ic-btn-1@2x.png" alt="hot">
            </a>
        </div>
        <div class="main-remind">
            <p>勿使用微信 / QQ 浏览器下载 ( 苹果用户请使用 Safari 下载 )</p>
            <div class="collection-content">
                <p>任何问题请联系下方邮箱：</p>
            </div>
        </div>
    </div>
</main>
<section class="section-install">
    <h2>安装教学</h2>
    <div class="hide iosShow">
        <ul class="tabs">
            <li class="scrollTo active" data-tab="#iosLite">苹果轻量版</li>
        </ul>
        <div class="tab-container">
            <div id="iosApp" class="tab-content active">
                <p>1. 当您下载应用后开启出现此画面</p>
                <img src="./download/img-ios-how-1@2x.png" alt="step">
                <p>2. 请先开启设置并点击通用</p>
                <p>3. 接著点击“描述文件与设备管理”</p>
                <img src="./download/img-ios-how-2@2x.png" alt="step">
                <p>4. 选择“信任 老司机漫画”</p>
                <img src="./download/img-ios-how-3@2x.png" alt="step">
                <p>5. 最后回到桌面重新开启应用即可</p>
            </div>
            <div id="iosLite" class="tab-content">
                <p>1. 请用 Safari 下载并点击允许</p>
                <img src="./download/img-ios-lite-1@2x.png" alt="step">
                <p>2. 开启设置并点击已下载描述文件</p>
                <img src="./download/img-ios-lite-2@2x.png" alt="step">
                <p>3. 点击安装并依照程序完成操作</p>
                <img src="./download/img-ios-lite-3@2x.png" alt="step">
                <p>4. 最后回到桌面即可看到轻量版</p>
            </div>
            <div id="iosDisable" class="tab-content">
                <p>1. 若您开启应用出现此画面</p>
                <img src="./download/img-ios-lost-1@2x.png" alt="step">
                <p>2. 请先开启飞航模式</p>
                <img src="./download/img-ios-lost-2@2x.png" alt="step">
                <p>3. 接著开启设置点击 Safari 浏览器</p>
                <img src="./download/img-ios-lost-3@2x.png" alt="step">
                <p>4. 点击“清除历史纪录与网站数据”</p>
                <img src="./download/img-ios-lost-4@2x.png" alt="step">
                <p>5. 之后请先重新开启应用</p>
                <p>6. 接著关闭飞航模式重新连上数据</p>
                <img src="./download/img-ios-lost-5@2x.png" alt="step">
                <p>7. 最后回到应用并重新连接即可</p>
            </div>
        </div>
    </div>
    <div class="hide androidShow">
        <div class="tab-container">
            <div id="androidApp" class="tab-content active">
                <p>1. 当您下载应用时若出现此画面</p>
                <img src="./download/img-and-how-1@2x.png" alt="step">
                <p>2. 请先点击设置</p>
                <p>3. 开启“允许来自此来源的应用”或將「禁止安装恶意应用」關閉</p>
                <img src="./download/img-and-how-2@2x.png" alt="step">
                <p>4. 接著返回安装程序即可完成</p>
            </div>
        </div>
    </div>
</section>
<footer>
    <p>客服信箱：<a class="mail">laoshiji@gmail.com</a></p>
    <p>©LaoShiJi All rights reserved.</p>
</footer>

<div class="fixed-bottom">
    <a href="https://t.me/laoshiji_service" target="_blank" class="contact-box">
        <img src="./download/img-telegram@2x.png" alt="telegram">
        <p>Telegram</p>
        <p>交流群</p>
    </a>
<!--    <a href="https://lihi1.cc/x81Z2" target="_blank" class="contact-box">-->
<!--        <img src="./download/img-potato@2x.png" alt="potato">-->
<!--        <p>Potato 交流群</p>-->
<!--    </a>-->
</div>

<div id="downloadConfirm" class="download-confirm" style="transform: translateY(101%);">
    <img src="./download/img-memei-notice.png" alt="notice">
    <div class="text">
        <p>请稍等</p>
        <p>正在匹配下载线路</p>
    </div>
</div>


<div class="pop-content jump">
    <div class="popup">
        <p class="pop-title">提示</p>
        <p class="pop-desc">请使用手机浏览</p>
        <div class="btn-content">
            <div class="btn cancel">我知道了</div>
<!--            <div class="btn confirm">去桌机版</div>-->
        </div>
    </div>
</div>
<div class="pop-content ios">
    <div class="popup">
        <p class="pop-title">苹果版本14用户注意</p>
        <p class="pop-desc">若您的手机版本为 iOS 14，开启软件时，请务必同意老司机漫画取得手机权限，避免无法使用。</p>
        <div class="btn-content">
            <div class="btn confirm">我知道了</div>
        </div>
    </div>
</div>

<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!--<script src="./download/mobileConfig.js"></script>-->
<script>
    // device
    const mobile = function () {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i
            .test(navigator.userAgent) || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;
    }()

    // device 2
    const mobile_bs = {
        versions: function () {
            var u = navigator.userAgent;
            return {
                trident: u.indexOf('Trident') > -1, // IE内核
                presto: u.indexOf('Presto') > -1, // opera内核
                webKit: u.indexOf('AppleWebKit') > -1, // 蘋果、google内核
                gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, // 火狐内核
                mobile: !!u.match(/AppleWebKit.*Mobile.*/) || !!u.match(/AppleWebKit/) && u
                        .indexOf('QIHU') && u.indexOf('QIHU') > -1 && u.indexOf('Chrome') <
                    0, // 是否為移動端
                ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios 终端
                android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -
                    1, // android终端或者uc browser
                iPhone: u.indexOf('iPhone') > -1, //是否為 iPhone 或者 QQHD browser
                iPad: u.indexOf('iPad') > -1 || navigator.platform === 'MacIntel' && navigator
                    .maxTouchPoints > 1, //是否 iPad
                webApp: u.indexOf('Safari') == -1, //是否 web 應用程序,
                wechat:u.toLowerCase().indexOf('micromessenger') > -1
            }
        }()
    }

    // Android
    const setAndroidUrl = function (data, utm_source) {
        const androidButtons = Array.from(document.querySelectorAll("#androidList .download-btn"));
        const downloadNow = document.querySelector(".main-content .androidShow.download-btn");

        let androidData = data.find(item=>{
            return item.url.indexOf(utm_source)
        });
        if(! androidData){
            androidData = data[0];
        }
        // 立即下載
        downloadNow.href = androidData.url;
        // downloadNow.querySelector(".text").innerHTML = "立即下载 APP";

        androidButtons.forEach((androidButton, index) => {
            androidButton.href = data[index].url;
            androidButton.innerHTML = data[index].name;
        });
    };

    // 滾動到安裝教學位置
    const scrollTo = function (_self) {
        $('html, body').animate({
            scrollTop: $(".section-install").offset().top - 30
        }, 300);

        let selected = _self.data("tab");
        $(".tabs li").removeClass("active");
        $(".tabs li[data-tab='" + selected + "']").addClass("active");
        $(".tab-content").hide();
        $(selected).show();
    }

    // 預設信件內容
    const sendMailContent = function () {
        let mailUrl = "mimei.service@gmail.com";
        let title = "老司机漫画下载页问题与建议";
        let body = `您好，
            请输入您的问题与建议：
            所在地区：
            手机型号：
            ＿＿＿＿＿＿＿＿＿＿＿＿＿

            感谢您提供宝贵的意见，老司机漫画Mimei团队敬上
            mimei.service@gmail.com`;
        let arr = [
            `subject=${encodeURIComponent(title)}`,
            `body=${encodeURIComponent(body)}`
        ];
        mailUrl += `?${arr.join("&")}`;
        document.location.href = `mailto:${mailUrl}`;
    }

    // 複製 url
    const copyUrl = function () {
        let href = window.location.href
        let tempInput = document.createElement("input");
        tempInput.style = "position: absolute; left: -1000px; top: -1000px";
        tempInput.setAttribute("id", "wholeHref");
        tempInput.value = href
        document.body.appendChild(tempInput);
        let queryString = document.getElementById("wholeHref")
        queryString.select();
        queryString.setSelectionRange(0, 999999);
        document.execCommand('copy')
        document.body.removeChild(tempInput);
    }

    // 獲取 searchParams
    const getParameterByName = function (name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }
    // 记录两个 放置域名有个失效
    function log(data) {
        $.ajax({
            type: "POST",
            url: 'https://cdn.vipsnovel.com/api/trace',
            data:  JSON.stringify( data),
            contentType: "application/json; charset=utf-8",
            dataType: "json"
        });

        $.ajax({
            type: "GET",
            url: 'https://bucket.vipsnovel.workers.dev/trace',
        });

    }

    $(function () {
        if (!mobile) {
            $(".pop-content.jump").addClass("show");
        }


        // quertString utm_source
        let utm_source = getParameterByName("utm_source");
        let user_id = getParameterByName("user_id");
        // 发送请求
        let logData = {
            // utm_source:utm_source,
            // user_id:user_id,
            url:window.location.href
        }

        window.localStorage.setItem('utm_source',utm_source);
        window.localStorage.setItem('user_id',user_id);



        // 不同渠道下载不,标记
        let data = {
            "android": [
                {
                    "name": "国内载点1",
                    "url": "download/android.apk"
                }
            ],
            "ios": {
                        "name": "下载点",
                        "url": "download/app.mobileconfig"
            }

        }

        // setAndroidUrl(data["android"], utm_source);
        // setIosUrl(data["ios"]);
        //todo 安卓微信跳转出去
        if (mobile_bs.versions.wechat) {
            alert('微信访问')
            //return
        }

        if (mobile_bs.versions.android) {
            $(".boxes.androidShow, .main-content .androidShow").addClass("showf");
            $(".androidShow").addClass("show");
        }
        if (mobile_bs.versions.ios) {
            $(".boxes.iosShow, .main-content .iosShow").addClass("showf");
            $(".iosShow").addClass("show");

            // $(".pop-content.ios").addClass("show");


            $("main").css("paddingTop", $("header").height());
                $(".main-content #ios_downloadNow").attr("data-tab", "#iosLite");
                $(".main-content #ios_downloadNow .text").text("立即下载轻量版");
                // $(".main-content #ios_downloadNow").attr("href", "https://public.yuezhixian.cn/pwa/mimei.mobileconfig");

        }

        $(".scrollTo").on("click", function (e) {
            let _self = $(this);
            scrollTo(_self)
        });

        // ios安装提醒
        $(".popIosShow").on("click", function () {
            $(".pop-content.ios").addClass("show");
        })

        // ios彈窗關閉
        $(".pop-content.ios .btn").on("click", function () {
            $(".pop-content.ios").removeClass("show");
        })

        $(".mail").on("click", sendMailContent);

        $(".pop-content.jump .btn.cancel").on("click", function () {
            $(".pop-content").removeClass("show");
        })

        $(".pop-content.jump .btn.confirm").on("click", function () {
            window.location.href = "/desktop.html" + location.search
        })

        log(logData)

    })
</script>


</body>
<div style="all: initial;">
    <div id="__hcfy__" style="all: initial;"></div>
</div>
</html>
