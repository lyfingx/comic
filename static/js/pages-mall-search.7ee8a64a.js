(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mall-search"],{"0730":function(t,r,e){"use strict";e.r(r);var n=e("a578"),i=e("c482");for(var a in i)"default"!==a&&function(t){e.d(r,t,(function(){return i[t]}))}(a);e("e0a7");var o,d=e("f0c5"),l=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"3675bbd0",null,!1,n["a"],o);r["default"]=l.exports},"1c70":function(t,r,e){"use strict";e.r(r);var n=e("e7e5"),i=e("e38a");for(var a in i)"default"!==a&&function(t){e.d(r,t,(function(){return i[t]}))}(a);e("8e77");var o,d=e("f0c5"),l=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"6b3316bb",null,!1,n["a"],o);r["default"]=l.exports},"236e":function(t,r,e){"use strict";e.r(r);var n=e("f69f"),i=e("7533");for(var a in i)"default"!==a&&function(t){e.d(r,t,(function(){return i[t]}))}(a);e("2e9e");var o,d=e("f0c5"),l=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"77ee6379",null,!1,n["a"],o);r["default"]=l.exports},"2e9e":function(t,r,e){"use strict";var n=e("a13f"),i=e.n(n);i.a},"68ce":function(t,r,e){var n=e("24fb");r=n(!1),r.push([t.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* l-head */.l-nav-bookrack[data-v-77ee6379]{font-size:%?30?%}.tag-view[data-v-77ee6379]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:%?10?% 0}.tag[data-v-77ee6379]{margin:0 0 %?10?% %?5?%}\r\n\r\n/* l-main */.l-main[data-v-77ee6379]{padding-bottom:%?32?%}.l-h3[data-v-77ee6379]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.l-h3-title[data-v-77ee6379]{font:700 var(--f-size-4) normal}.l-h3-more[data-v-77ee6379]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:var(--c-bg-2)}.l-dl[data-v-77ee6379]{margin-top:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;width:100%;height:%?224?%}.l-dt[data-v-77ee6379]{width:%?160?%;height:100%;-webkit-border-radius:%?10?%;border-radius:%?10?%;margin-right:%?24?%}.l-dd[data-v-77ee6379]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.l-dd-title[data-v-77ee6379]{color:var(--c-txt-3);font:var(--f-size-3) normal}.l-dd-content[data-v-77ee6379],\r\n.l-dd-footer[data-v-77ee6379]{color:var(--c-txt-2);font:var(--f-size-2)/var(--f-size-4) normal}.l-dd-content[data-v-77ee6379]{width:100%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}.l-dd-footer[data-v-77ee6379]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}",""]),t.exports=r},"6fdd":function(t,r,e){var n=e("24fb");r=n(!1),r.push([t.i,".tui-divider[data-v-6b3316bb]{width:100%;position:relative;text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.tui-divider-line[data-v-6b3316bb]{position:absolute;height:%?1?%;top:50%;left:50%;-webkit-transform:scaleY(.5) translateX(-50%) translateZ(0);transform:scaleY(.5) translateX(-50%) translateZ(0)}.tui-divider-text[data-v-6b3316bb]{position:relative;text-align:center;padding:0 %?18?%;z-index:1}",""]),t.exports=r},7533:function(t,r,e){"use strict";e.r(r);var n=e("d126"),i=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(r,t,(function(){return n[t]}))}(a);r["default"]=i.a},8805:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={name:"UniTag",props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1}},methods:{onClick:function(){!0!==this.disabled&&"true"!==this.disabled&&this.$emit("click")}}};r.default=n},"8e77":function(t,r,e){"use strict";var n=e("982d"),i=e.n(n);i.a},"982d":function(t,r,e){var n=e("6fdd");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("d66b7fca",n,!0,{sourceMap:!1,shadowMode:!1})},a13f:function(t,r,e){var n=e("68ce");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("47db1b8a",n,!0,{sourceMap:!1,shadowMode:!1})},a578:function(t,r,e){"use strict";var n;e.d(r,"b",(function(){return i})),e.d(r,"c",(function(){return a})),e.d(r,"a",(function(){return n}));var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.text?e("v-uni-view",{staticClass:"uni-tag",class:["uni-tag--"+t.type,!0===t.disabled||"true"===t.disabled?"uni-tag--disabled":"",!0===t.inverted||"true"===t.inverted?t.type+"-uni-tag--inverted":"",!0===t.circle||"true"===t.circle?"uni-tag--circle":"",!0===t.mark||"true"===t.mark?"uni-tag--mark":"","uni-tag--"+t.size],on:{click:function(r){arguments[0]=r=t.$handleEvent(r),t.onClick()}}},[e("v-uni-text",{class:["default"===t.type?"uni-tag--default":"uni-tag-text",!0===t.inverted||"true"===t.inverted?"uni-tag-text--"+t.type:"","small"===t.size?"uni-tag-text--small":""]},[t._v(t._s(t.text))])],1):t._e()},a=[]},a9de:function(t,r,e){var n=e("24fb");r=n(!1),r.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-tag[data-v-3675bbd0]{display:-webkit-box;display:-webkit-flex;display:flex;padding:0 16px;height:30px;line-height:30px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#333;-webkit-border-radius:%?6?%;border-radius:%?6?%;background-color:#f8f8f8;border-width:%?1?%;border-style:solid;border-color:#f8f8f8}.uni-tag--circle[data-v-3675bbd0]{-webkit-border-radius:15px;border-radius:15px}.uni-tag--mark[data-v-3675bbd0]{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:15px;border-top-right-radius:15px;-webkit-border-bottom-right-radius:15px;border-bottom-right-radius:15px}.uni-tag--disabled[data-v-3675bbd0]{opacity:.5}.uni-tag--small[data-v-3675bbd0]{height:20px;padding:0 8px;line-height:20px;font-size:%?24?%}.uni-tag--default[data-v-3675bbd0]{color:#333;font-size:%?28?%}.uni-tag-text--small[data-v-3675bbd0]{font-size:%?24?%!important}.uni-tag-text[data-v-3675bbd0]{color:#fff;font-size:%?28?%}.uni-tag-text--primary[data-v-3675bbd0]{color:#007aff!important}.uni-tag-text--success[data-v-3675bbd0]{color:#4cd964!important}.uni-tag-text--warning[data-v-3675bbd0]{color:#f0ad4e!important}.uni-tag-text--error[data-v-3675bbd0]{color:#dd524d!important}.uni-tag--primary[data-v-3675bbd0]{color:#fff;background-color:#007aff;border-width:%?1?%;border-style:solid;border-color:#007aff}.primary-uni-tag--inverted[data-v-3675bbd0]{color:#007aff;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#007aff}.uni-tag--success[data-v-3675bbd0]{color:#fff;background-color:#4cd964;border-width:%?1?%;border-style:solid;border-color:#4cd964}.success-uni-tag--inverted[data-v-3675bbd0]{color:#4cd964;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#4cd964}.uni-tag--warning[data-v-3675bbd0]{color:#fff;background-color:#f0ad4e;border-width:%?1?%;border-style:solid;border-color:#f0ad4e}.warning-uni-tag--inverted[data-v-3675bbd0]{color:#f0ad4e;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#f0ad4e}.uni-tag--error[data-v-3675bbd0]{color:#fff;background-color:#dd524d;border-width:%?1?%;border-style:solid;border-color:#dd524d}.error-uni-tag--inverted[data-v-3675bbd0]{color:#dd524d;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#dd524d}.uni-tag--inverted[data-v-3675bbd0]{color:#333;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#f8f8f8}',""]),t.exports=r},b886:function(t,r,e){"use strict";e("a9e3"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={name:"tuiDivider",props:{height:{type:Number,default:100},width:{type:String,default:"100%"},dividerColor:{type:String,default:"#e5e5e5"},color:{type:String,default:"#999"},size:{type:Number,default:24},bold:{type:Boolean,default:!1},bgcolor:{type:String,default:"#fafafa"},gradual:{type:Boolean,default:!1},gradualColor:{type:Array,default:function(){return["#eee","#ccc"]}}},methods:{getBgColor:function(t,r,e){var n=e;return t&&(n="linear-gradient(to right,"+r[0]+","+r[1]+","+r[1]+","+r[0]+")"),n}}};r.default=n},b922:function(t,r,e){var n=e("a9de");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("5f1e7c95",n,!0,{sourceMap:!1,shadowMode:!1})},c482:function(t,r,e){"use strict";e.r(r);var n=e("8805"),i=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(r,t,(function(){return n[t]}))}(a);r["default"]=i.a},d126:function(t,r,e){"use strict";(function(t){var n=e("4ea4");e("4160"),e("fb6a"),e("159b"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("1c70")),a=n(e("0730")),o={components:{divider:i.default,uniTag:a.default},data:function(){return{keyword:"",books:[],page:1,maxPage:0,total:0,tags:[]}},onLoad:function(r){t.log("onload"),t.log(r.keyword),r.keyword&&(this.keyword=r.keyword,t.log("url 搜索"+this.keyword),this.getBookSearch()),r.user_id&&uni.setStorageSync("share_user_id",r.user_id)},onReachBottom:function(){t.log("页面已经到达底部"),this.maxPage&&this.maxPage<=this.page?this.feedback():(this.page++,this.getBookSearch())},onNavigationBarSearchInputChanged:function(r){t.log(r),this.keyword=r.text},onNavigationBarSearchInputConfirmed:function(){uni.hideKeyboard(),this.page=1,this.getBookSearch()},onNavigationBarButtonTap:function(){t.log("你点击了按钮"),this.page=1,this.getBookSearch(),uni.hideKeyboard()},methods:{navto:function(){uni.navigateTo({url:"/pages/mall/mall"})},navtoDetail:function(t){getApp().globalData.currentBook=t,uni.navigateTo({url:"/pages/detail/detail"})},sliceDesc:function(t){return this._.isEmpty(t)?"":t.length>50?t.slice(0,50):t},handleTag:function(t){this.keyword=t,this.getBookSearch()},getBookSearch:function(){var r=this;if(!this._.isEmpty(this.keyword)||this.total){1==this.page&&(uni.pageScrollTo({scrollTop:0}),this.books=[]),uni.showLoading();var e={keyword:this.keyword,page:this.page};this.$minApi.getBookSearch(e).then((function(e){uni.hideLoading(),t.log(e),1==e.current_page&&(r.maxPage=e.last_page,r.total=e.total,r.books=[]),e.data.forEach((function(t){r.books.push(t)}))})).catch((function(e){t.log(e),r.$toast("搜索异常,稍后重试")}))}else this.getBookHot()},feedback:function(){var t=this;uni.showModal({title:"反馈",content:"没有想要的书籍,告知我们",success:function(r){if(r.confirm){var e={content:t.keyword+"  没有找到结果"};getApp().globalData.urlParam=e,uni.navigateTo({url:"/pages/uni-feedback/uni-feedback"})}}})},getBookHot:function(){var t=this;uni.showLoading(),this.$minApi.getBookHot().then((function(r){uni.hideLoading(),r.forEach((function(r){t.books.push(r)}))}))}},mounted:function(){var t=this;if(getApp().globalData.vip){var r=getApp().globalData.urlParam;this._.isEmpty(r.keyword)||(this.keyword=r.keyword,getApp().globalData.urlParam.keyword=""),this.$minApi.getBookTags().then((function(r){r.forEach((function(r){t.tags.push(r)}))})),this.getBookSearch()}else uni.navigateBack()}};r.default=o}).call(this,e("5a52")["default"])},e0a7:function(t,r,e){"use strict";var n=e("b922"),i=e.n(n);i.a},e38a:function(t,r,e){"use strict";e.r(r);var n=e("b886"),i=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(r,t,(function(){return n[t]}))}(a);r["default"]=i.a},e7e5:function(t,r,e){"use strict";var n;e.d(r,"b",(function(){return i})),e.d(r,"c",(function(){return a})),e.d(r,"a",(function(){return n}));var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-uni-view",{staticClass:"tui-divider",style:{height:t.height+"rpx"}},[e("v-uni-view",{staticClass:"tui-divider-line",style:{width:t.width,background:t.getBgColor(t.gradual,t.gradualColor,t.dividerColor)}}),e("v-uni-view",{staticClass:"tui-divider-text",style:{color:t.color,fontSize:t.size+"rpx",lineHeight:t.size+"rpx",background:t.bgcolor,fontWeight:t.bold?"bold":"normal"}},[t._t("default")],2)],1)},a=[]},f69f:function(t,r,e){"use strict";e.d(r,"b",(function(){return i})),e.d(r,"c",(function(){return a})),e.d(r,"a",(function(){return n}));var n={uniTag:e("0730").default},i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-uni-view",[e("v-uni-view",{staticClass:"l-fixed"},[e("v-uni-view",{staticClass:"l-status"})],1),e("v-uni-view",{staticClass:"l-body"},[e("v-uni-text",{staticClass:"l-h3-title"},[t._v("热门标签")]),e("v-uni-view",{staticClass:"tag-view"},t._l(t.tags,(function(r){return e("uni-tag",{staticClass:"tag",attrs:{text:r,type:"error",circle:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleTag(r)}}})})),1),e("v-uni-view",{staticClass:"l-main"},[e("v-uni-view",{staticClass:"l-h3"},[this.total?e("v-uni-text",{staticClass:"l-h3-title"},[t._v("搜索结果 "+t._s(t.total)+" 个")]):e("v-uni-text",{staticClass:"l-h3-title"},[t._v("猜你喜欢")])],1),t._l(t.books,(function(r,n){return e("v-uni-view",{key:n,staticClass:"l-dl",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navtoDetail(r)}}},[e("v-uni-image",{staticClass:"l-dt",attrs:{src:r.icon,"lazy-load":!0,mode:"aspectFill"}}),e("v-uni-view",{staticClass:"l-dd"},[e("v-uni-view",{staticClass:"l-dd-title"},[t._v(t._s(r.name))]),e("v-uni-view",{staticClass:"l-dd-content"},[t._v(t._s(t.sliceDesc(r.desc)))]),e("v-uni-view",{staticClass:"l-dd-footer"},[t._v(t._s(r.author))])],1)],1)}))],2)],1)],1)},a=[]}}]);